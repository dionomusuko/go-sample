<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="utf-8">
    <script src="https://cdn.jsdelivr.net/npm/vue"></script>
    <script type="text/javascript">
        if(localStorage.getItem('token') === null) {
            location.href = '/'
        }
    </script>
    <title>tasks - Simple Task</title>
</head>
<body>
<div id="task-list">
    <h1 id="title">{{ user }}'s Tasks</h1>
    <div>
        <input type="text" name="menu" v-model="newTask" placeholder="new task">
        <button type="button" name="add" @click="postTodo">Add</button>
    </div>
    <div v-if="tasks.length === 0">
        <p>No your tasks...</p>
    </div>
    <ul v-else id="task-list">
        <li v-for="(task, index) in tasks" :key="index">
            <input type="text" :id="index" name="set" :checked="task.completed" @click="checkTask(task.id)">
            <label :for="index">{{ todo.name }}</label>
            <button type="button" name="delete" @click="deleteTask(task.id)">X</button>
        </li>
    </ul>
    <button type="button" name="logout" @click="logout()">logout</button>
</div>
<script src="assets/js/taskList.js"></script>
</body>
</html>